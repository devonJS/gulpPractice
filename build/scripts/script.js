var addedclear=5;for(waitwaitwait===!1&&(addedAnother=7),i=0;i<5;i++);!function(){"use strict";angular.module("bsApp").directive("crossfilterLineGraph",[function(){return{restrict:"E",scope:{data:"=",trendingPoints:"=?",options:"=?",pointselect:"&",brushing:"&"},template:"<div><button ng-click='day()'>Day</button><button ng-click='threeDay()'>Three Days</button><button ng-click='week()'>Week</button><button ng-click='twoWeeks()'>Two Weeks</button><button ng-click='month()'>Month</button></div>",link:function(t,e,n){function a(){d3.select(".zoomed").remove();var n=0,a=d3.max(t.data,function(t){return t.y}),r=d3.time.scale().range([0,t.options.width-2*t.options.margins]).domain([t.data[0].x,t.data[t.data.length-1].x]),i=d3.scale.linear().range([t.options.height-2*t.options.margins,0]).domain([n,a]),s=null,l=null,c=10,g=1e3,u=4,d=null,p=null,h=null,v=d3.svg.axis().scale(r).orient("bottom"),f=d3.svg.axis().scale(i).orient("left");t.svg=d3.select(e[0]).append("svg").attr("width",t.options.width).attr("height",t.options.height).append("svg:g").attr("transform","translate("+t.options.margins+","+t.options.margins+")"),d=t.svg.transition().duration(g),s?d.select(".yTick").call(f):s=t.svg.append("svg:g").attr("class","yTick").call(f),l?d.select(".xTick").call(v):l=t.svg.append("svg:g").attr("class","xTick").attr("transform","translate(0,372)").call(v),t.brush=d3.svg.brush().x(r).extent([new Date(2014,0,1),new Date(2014,0,8)]).on("brushend",o);var x=t.svg.append("g").attr("class","context");x.append("g").attr("class","x brush").call(t.brush).selectAll("rect").attr("height",t.options.height-78),p||(p=t.svg.append("svg:g"));var y=p.selectAll(".data-line").data([t.data]),m=d3.svg.line().x(function(t,e){return r(t.x)}).y(function(t){return i(t.y)}).interpolate("linear");y.enter().append("svg:path").attr("class","area"),y.enter().append("path").attr("class","data-line").style("opacity",.3).attr("d",m(t.data)),y.transition().attr("d",m).duration(g).style("opacity",1).attr("transform",function(t){return"translate("+r(t.x)+","+i(t.y)+")"}),y.exit().transition().attr("d",m).duration(g).attr("transform",function(t){return"translate("+r(t.x)+","+i(0)+")"}).style("opacity",1e-6).remove(),h||(h=t.svg.append("svg:g"));var b=h.selectAll(".data-point").data(t.trendingPoints),w=-1;b.enter().append("svg:circle").attr("class","data-point").style("opacity",1e-6).style("cursor","pointer").attr("circleCount",function(){return w++,w}).attr("cx",function(t){return r(t.x)}).attr("cy",function(t){return i(0)}).attr("r",function(){return t.trendingPoints.length<=c?u:0}).on("click",function(e){t.pointselect({x:e.x,y:e.y}),d3.event.stopPropagation()}).transition().duration(g).style("opacity",1).attr("cx",function(t){return r(t.x)}).attr("cy",function(t){return i(t.y)}),b.transition().duration(g).attr("cx",function(t){return r(t.x)}).attr("cy",function(t){return i(t.y)}).attr("r",function(){return t.trendingPoints.length<=c?u:0}).style("opacity",1),b.exit().transition().duration(g).attr("cy",function(){return i(0)}).style("opacity",1e-6).remove()}function r(e,n){e=g.invert(e),n=g.invert(n),t.brushing({x1:e,x2:n})}function i(t,e){t=t.replace("translate(",""),e=e.replace("translate(","");var n=t.indexOf(","),a=e.indexOf(",");t=t.slice(0,n),e=e.slice(0,a),r(parseFloat(t),parseFloat(e))}function o(){var t=d3.select(".resize.w").attr("transform"),e=d3.select(".resize.e").attr("transform");i(t,e)}function s(e){t.svg.select(".x.brush").remove(),t.brush=d3.svg.brush().x(g).extent(e).on("brushend",o);var n=t.svg.append("g").attr("class","context");n.append("g").attr("class","x brush").call(t.brush).selectAll("rect").attr("height",t.options.height-78),o()}t.options=t.options||{},t.trendingPoints=t.trendingPoints||{},t.options.width=t.options.width||900,t.options.height=t.options.height||450,t.options.margins=t.options.margins||40,t.$watch("data",function(t){a()});{var l=0,c=d3.max(t.data,function(t){return t.y}),g=d3.time.scale().range([0,t.options.width-2*t.options.margins]).domain([t.data[0].x,t.data[t.data.length-1].x]);d3.scale.linear().range([t.options.height-2*t.options.margins,0]).domain([l,c])}t.day=function(){var e=t.brush.extent();s([new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()),new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()+1)])},t.threeDay=function(){var e=t.brush.extent();s([new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()),new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()+3)])},t.week=function(){var e=t.brush.extent();s([new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()),new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()+7)])},t.twoWeeks=function(){var e=t.brush.extent();s([new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()),new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()+14)])},t.month=function(){var e=t.brush.extent();s([new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()),new Date(e[0].getFullYear(),e[0].getMonth()+1,e[0].getDate())])}}}}])}();var doesThisWork=!1,foo=5;foo>=4&&(doesThisWork=!0);